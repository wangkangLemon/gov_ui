webpackJsonp([32],{181:function(t,e,a){a(821);var i=a(10)(a(757),a(882),null,null);t.exports=i.exports},259:function(t,e,a){"use strict";(function(t){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=a(23),o=a(4),r=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),s=o.a.apiHost+"/course/task",c=function(){function e(){i(this,e)}return r(e,[{key:"getCourseTaskList",value:function(t){var e=t.page,a=t.pagesize,i=t.title,o=t.stime,r=t.etime,c=t.type,l=t.status,u=t.deleted,d=s+"/lists";return n.b(d,{page:e,pagesize:a,title:i,stime:o,etime:r,type:c,status:l,deleted:u}).then(function(t){return t})}},{key:"submitTask",value:function(t){var e=t.title,a=void 0===e?void 0:e,i=t.image,o=void 0===i?void 0:i,r=t.description,c=void 0===r?void 0:r,l=t.sort,u=void 0===l?void 0:l,d=t.course_ids,p=void 0===d?void 0:d,g=t.gov_ids,A=void 0===g?void 0:g,v=t.user_ids,m=void 0===v?void 0:v,f=t.score,h=void 0===f?0:f,b=t.type,k=void 0===b?void 0:b,C=t.stime,y=void 0===C?"":C,_=t.etime,D=void 0===_?"":_,x=s+"/create";return n.a(x,{title:a,image:o,description:c,sort:u,course_ids:p,gov_ids:A,user_ids:m,score:h,type:k,stime:y,etime:D},!1).then(function(t){return t})}},{key:"editTask",value:function(t){var e=t.id,a=t.title,i=void 0===a?void 0:a,o=t.image,r=void 0===o?void 0:o,c=t.description,l=void 0===c?void 0:c,u=t.sort,d=void 0===u?void 0:u,p=t.course_ids,g=void 0===p?void 0:p,A=t.gov_ids,v=void 0===A?void 0:A,m=t.user_ids,f=void 0===m?void 0:m,h=t.score,b=void 0===h?0:h,k=t.type,C=void 0===k?void 0:k,y=t.stime,_=void 0===y?"":y,D=t.etime,x=void 0===D?"":D,B=s+"/edit/"+e;return n.a(B,{title:i,image:r,description:l,sort:d,course_ids:g,gov_ids:v,user_ids:f,score:b,type:C,stime:_,etime:x},!1).then(function(t){return t})}},{key:"getTask",value:function(t){var e=s+"/get/"+t;return n.b(e).then(function(t){return t})}},{key:"deleteCourseTask",value:function(t){var e=s+"/delete/"+t;return n.a(e,{})}},{key:"getCourseTaskTemplateEditDetail",value:function(t){var e=s+"/template/get/"+t;return n.b(e,{}).then(function(t){return t})}},{key:"getCourseTaskTemplateList",value:function(t){var e=t.category_id,a=t.title,i=t.deleted,o=t.status,r=t.page,c=t.pagesize,l=s+"/template/lists";return n.b(l,{category_id:e,title:a,deleted:i,status:o,page:r,pagesize:c}).then(function(t){return t})}},{key:"CourseTaskTemplateUploadUrl",value:function(t){var e=t.avatar,a=t.alias,i=s+"/template/cover";return n.a(i,{avatar:e,alias:a})}},{key:"addCourseTaskTemplate",value:function(e){var a=e.category_id,i=e.title,o=e.description,r=e.image,c=e.course_ids,l=e.sort,u=e.score,d=s+"/template/create";return n.a(d,{category_id:a,title:i,description:o,image:r,course_ids:c,sort:l,score:u}).then(function(e){if(e.code)return t.reject(e)})}},{key:"updateCourseTaskTemplate",value:function(e){var a=e.id,i=e.category_id,o=e.title,r=e.description,c=e.image,l=e.course_ids,u=e.sort,d=e.score,p=s+"/template/edit/"+a;return n.a(p,{category_id:i,title:o,description:r,image:c,course_ids:l,sort:u,score:d}).then(function(e){if(e.code)return t.reject(e)})}},{key:"deleteCourseTaskTemplate",value:function(t){var e=s+"/template/delete/"+t;return n.a(e,{})}},{key:"publishCourseTaskTemplate",value:function(t){var e=s+"/template/"+t+"/publish";return n.a(e,{})}},{key:"revokeCourseTaskTemplate",value:function(t){var e=s+"/template/"+t+"/revoke";return n.a(e,{})}},{key:"getCategoryTree",value:function(t){var e=t.id,a=void 0===e?"tree":e,i=(t.type,t.filter,t.pid,t.level,t.pagesize,s+"/template/category/lists");return n.b(i,{id:a,name:name}).then(function(t){return t})}},{key:"create_cate",value:function(t){var e=(t.parent_id,t.name),a=(t.image,t.sort),i=s+"/template/category/create",o={name:e,sort:a};return n.a(i,o)}},{key:"update_cate",value:function(t){var e=t.name,a=(t.image,t.sort),i=t.id,o=s+"/template/category/edit/"+i;return n.a(o,{name:e,sort:a})}},{key:"delCategory",value:function(e){var a=e.id,i=s+"/template/category/delete/"+a;return n.a(i).then(function(e){if(e.code)return t.reject(e)})}},{key:"getCategoryImageUrl",value:function(){return s+"/template/category/image"}},{key:"moveCategory",value:function(t){var e=t.id,a=t.to,i=s+"/template/category/"+e+"/move";return n.a(i,{to:a})}},{key:"moveCategoryContent",value:function(t){var e=t.id,a=t.to,i=s+"/template/category/"+e+"/move/content";return n.a(i,{to:a})}},{key:"offline",value:function(t){var e=t.id,a=t.disabled,i=s+"/edit/"+e;return n.a(i,{disabled:a})}},{key:"online",value:function(t){var e=t.id,a=t.disabled,i=s+"/edit/"+e;return n.a(i,{disabled:a})}},{key:"getUploadUrl",value:function(t){var e=t.image,a=t.alias,i=s+"/upload";return n.a(i,{image:e,alias:a}).then(function(t){return t.data})}},{key:"getTaskStat",value:function(t){var e=t.type,a=t.title,i=t.page,o=t.pagesize,r=s+"/stat/lists";return n.b(r,{type:e,title:a,page:i,pagesize:o}).then(function(t){return t})}},{key:"getTaskStatDetail",value:function(t){var e=t.id,a=t.page,i=t.pagesize,o=t.name,r=t.status,c=s+"/stat/"+e+"/user";return n.b(c,{page:a,pagesize:i,name:o,status:r}).then(function(t){return t})}}]),e}();e.a=new c}).call(e,a(7))},757:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(259);e.default={data:function(){return{type:{company:"企业任务",department:"门店任务",user:"指定人员",user_group:"指定用户组"},dataList:[],tableHeader:[],total:0,loading:!1,fetchParam:{status:"",department_id:"",role_type:"",name:"",page:1,pagesize:15},exportLoading:!1,courseDetail:{showDialog:!1,data:[],object:[],total:0,fetchParam:{page:1,pagesize:15,id:void 0}}}},computed:{statid:function(){return this.$route.params.id}},activated:function(){xmview.setContentTile&&xmview.setContentTile("详细统计-"+this.$route.query.title),this.fetchData().then(function(){xmview.setContentLoading(!1)})},methods:{fetchData:function(){var t=this;return this.fetchParam.id=this.statid,i.a.getTaskStatDetail(this.fetchParam).then(function(e){t.dataList=e.data,t.total=e._exts.total})},openCourseDetail:function(t){this.courseDetail.showDialog=!0,this.courseDetail.object=t.object,this.courseDetail.total=t.object.length,this.fetchCourseData()},fetchCourseData:function(){var t=this.courseDetail.fetchParam.pagesize,e=(this.courseDetail.fetchParam.page-1)*t,a=e+t;this.courseDetail.data=this.courseDetail.object.slice(e,a)}}}},779:function(t,e,a){e=t.exports=a(142)(!0),e.push([t.i,'#task-statistics-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#task-statistics-container:after{content:"";clear:both;display:block}#task-statistics-container .pagin{float:right;margin-top:15px}#task-statistics-container .bottom-manage{margin-top:15px}#task-statistics-container .top-btn{position:absolute;right:0;top:-50px}#task-statistics-container .header-button.top-btn>.el-button i{margin-right:5px}#task-statistics-container .header-button.top-btn>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#task-statistics-container .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px}#task-statistics-container .search>section>span,#task-statistics-container .search>section i{margin-right:2px}#task-statistics-container .search>section>*{vertical-align:middle;display:inline-block}#task-statistics-container .search .el-input{width:auto}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#task-statistics-container .block{float:right;margin-top:15px}',"",{version:3,sources:["/home/zhaoyicheng/devspace/gov_ui/assets/src/views/server/courseTask/User.vue"],names:[],mappings:"AACA,2BAA2B,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACnH,AACD,iCAAiC,WAAW,WAAW,aAAa,CACnE,AACD,kCAAkC,YAAY,eAAe,CAC5D,AACD,0CAA0C,eAAe,CACxD,AACD,oCAAoC,kBAAkB,QAAQ,SAAS,CACtE,AACD,+DAA+D,gBAAgB,CAC9E,AACD,sEAAsE,kBAAkB,QAAQ,CAC/F,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,2CAA2C,iBAAiB,mBAAmB,qBAAqB,iBAAiB,CACpH,AACD,6FAA6F,gBAAgB,CAC5G,AACD,6CAA6C,sBAAsB,oBAAoB,CACtF,AACD,6CAA6C,UAAU,CACtD,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,kCAAkC,YAAY,eAAe,CAC5D",file:"User.vue",sourcesContent:["\n#task-statistics-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\n}\n#task-statistics-container:after{content:'';clear:both;display:block\n}\n#task-statistics-container .pagin{float:right;margin-top:15px\n}\n#task-statistics-container .bottom-manage{margin-top:15px\n}\n#task-statistics-container .top-btn{position:absolute;right:0;top:-50px\n}\n#task-statistics-container .header-button.top-btn>.el-button i{margin-right:5px\n}\n#task-statistics-container .header-button.top-btn>.el-button i:before{position:relative;top:-1px\n}\n.text-blue{color:#20A0FF\n}\n.text-light-blue{color:#58B7FF\n}\n.text-dark-blue{color:#1D8CE0\n}\n.text-success{color:#13CE66\n}\n.text-warning{color:#F7BA2A\n}\n.text-danger{color:#FF4949\n}\n#task-statistics-container .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px\n}\n#task-statistics-container .search>section>span,#task-statistics-container .search>section i{margin-right:2px\n}\n#task-statistics-container .search>section>*{vertical-align:middle;display:inline-block\n}\n#task-statistics-container .search .el-input{width:auto\n}\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\n}\n#task-statistics-container .block{float:right;margin-top:15px\n}\n"],sourceRoot:""}])},821:function(t,e,a){var i=a(779);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(143)("1e0d6b08",i,!0)},882:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{attrs:{id:"task-statistics-container"}},[a("article",{staticClass:"search"},[a("section",[a("i",[t._v("完成状态")]),t._v(" "),a("el-select",{attrs:{placeholder:"未选择",clearable:""},on:{change:t.fetchData},model:{value:t.fetchParam.status,callback:function(e){t.fetchParam.status=e},expression:"fetchParam.status"}},[a("el-option",{attrs:{label:"完成",value:1}}),t._v(" "),a("el-option",{attrs:{label:"未完成",value:2}})],1)],1),t._v(" "),a("section",[a("i",[t._v("人员姓名")]),t._v(" "),a("el-input",{nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.fetchData(e)}},model:{value:t.fetchParam.name,callback:function(e){t.fetchParam.name=e},expression:"fetchParam.name"}})],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"data-table",attrs:{data:t.dataList,fit:!0,border:""}},[a("el-table-column",{attrs:{prop:"user_name",label:"人员姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"done_cnt",label:"完成数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"完成状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"完成进度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.openCourseDetail(e.row)}}},[t._v(t._s(e.row.course_done)+"/"+t._s(e.row.course_count))])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"block",attrs:{"current-page":t.fetchParam.page,"page-size":t.fetchParam.pagesize,"page-sizes":[15,30,60,100],layout:"sizes,total, prev, pager, next",total:t.total},on:{"size-change":function(e){t.fetchParam.pagesize=e,t.fetchData()},"current-change":function(e){t.fetchParam.page=e,t.fetchData()}}}),t._v(" "),a("el-dialog",{attrs:{title:"完成进度",visible:t.courseDetail.showDialog},on:{"update:visible":function(e){t.courseDetail.showDialog=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"data-table",attrs:{data:t.courseDetail.data,fit:!0,border:""}},[a("el-table-column",{attrs:{label:"内容名称",prop:"object_name","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"object_type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["course"===e.row.object_type?a("el-tag",{attrs:{type:"success"}},[t._v("课程")]):t._e(),t._v(" "),"exam"===e.row.object_type?a("el-tag",{attrs:{type:"danger"}},[t._v("试卷")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"进度",prop:"completed",width:"80"}})],1),t._v(" "),a("el-pagination",{staticClass:"block",attrs:{"current-page":t.courseDetail.fetchParam.page,"page-size":t.courseDetail.fetchParam.pagesize,"page-sizes":[15,30,60,100],layout:"sizes, total, prev, pager, next",total:t.courseDetail.total},on:{"size-change":function(e){t.courseDetail.fetchParam.pagesize=e,t.fetchCourseData()},"current-change":function(e){t.courseDetail.fetchParam.page=e,t.fetchCourseData()}}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=32.1b3ed4ec38196d10e664.js.map