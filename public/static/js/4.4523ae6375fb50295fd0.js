webpackJsonp([4],{130:function(e,t,i){"use strict";(function(e){function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=i(13),r=i(1),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=r.a.apiHost,c=r.a.apiHost,s=function(){function t(){o(this,t)}return d(t,[{key:"getSelectList",value:function(e){var t=e.id,i=void 0===t?"":t,a=e.name,o=void 0===a?"":a,r=e.category,d=void 0===r?"":r,c=e.pagesize,s=void 0===c?"":c,u=e.page,v=void 0===u?"":u,p=e.pid,f=void 0===p?"":p,m=e.province_id,g=void 0===m?"":m,_=e.city_id,h=void 0===_?"":_,y=e.area_id,b=void 0===y?"":y,x=e.town_id,w=void 0===x?"":x,k=e.village_id,C=void 0===k?"":k,A=e.deleted,D=void 0===A?"":A,z=e.noself,S=void 0===z?"":z,L=l+"/gov/lists";return n.b(L,{id:i,name:o,category:d,page:v,pagesize:s,pid:f,province_id:g,city_id:h,area_id:b,town_id:w,village_id:C,deleted:D,noself:S},!1).then(function(e){return e})}},{key:"getGovSelectList",value:function(e){a(e);var t=l+"/gov/lists";return n.b(t,{},!1).then(function(e){return e.data})}},{key:"postSelectList",value:function(e){var t=e.id,i=void 0===t?"":t,a=e.name,o=void 0===a?"":a,r=e.category,d=void 0===r?"":r,c=e.pagesize,s=void 0===c?"":c,u=e.page,v=void 0===u?"":u,p=e.pid,f=void 0===p?"":p,m=e.province_id,g=void 0===m?"":m,_=e.city_id,h=void 0===_?"":_,y=e.area_id,b=void 0===y?"":y,x=e.town_id,w=void 0===x?"":x,k=e.village_id,C=void 0===k?"":k,A=e.deleted,D=void 0===A?"":A,z=l+"/gov/lists";return n.a(z,{id:i,name:o,category:d,page:v,pagesize:s,pid:f,province_id:g,city_id:h,area_id:b,town_id:w,village_id:C,deleted:D},!1).then(function(e){return e.data})}},{key:"getGovInfo",value:function(e){var t=l+"/gov/get/"+e;return n.b(t).then(function(e){return e.data})}},{key:"addGov",value:function(t){var i=t.category,a=t.pid,o=t.province_id,r=t.city_id,d=t.area_id,c=t.town_id,s=t.village_id,u=t.name,v=t.concact,p=t.mobile,f=t.email,m=t.mobile_title,g=t.tel,_=t.zip,h=t.fax,y=t.url,b=t.address,x=t.description,w=l+"/gov/create";return n.a(w,{category:i,pid:a,province_id:o,city_id:r,area_id:d,town_id:c,village_id:s,name:u,concact:v,mobile:p,email:f,mobile_title:m,tel:g,zip:_,fax:h,url:y,address:b,description:x}).then(function(t){if(t.code)return e.reject(t)})}},{key:"editGov",value:function(e){var t=l+"/gov/edit/"+e;return n.b(t).then(function(e){return e.data})}},{key:"updateGov",value:function(t){var i=t.gov_id,a=t.category,o=t.pid,r=t.province_id,d=t.city_id,c=t.area_id,s=t.town_id,u=t.village_id,v=t.name,p=t.concact,f=t.mobile,m=t.email,g=t.mobile_title,_=t.tel,h=t.zip,y=t.fax,b=t.url,x=t.address,w=t.description,k=l+"/gov/edit/"+i;return n.a(k,{category:a,pid:o,province_id:r,city_id:d,area_id:c,town_id:s,village_id:u,name:v,concact:p,mobile:f,email:m,mobile_title:g,tel:_,zip:h,fax:y,url:b,address:x,description:w}).then(function(t){if(t.code)return e.reject(t)})}},{key:"govAdminList",value:function(e){var t=e.name,i=e.gov_id,a=e.page,o=e.pagesize,r=e.role_id,d=e.mobile,l=c+"/user/lists";return n.b(l,{name:t,gov_id:i,page:a,pagesize:o,role_id:r,mobile:d}).then(function(e){return e})}},{key:"govAdmin",value:function(e){var t=e.name,i=e.gov_id,a=e.page,o=e.pagesize,r=c+"/user/get/"+i;return n.b(r,{name:t,page:a,pagesize:o}).then(function(e){return e.data})}},{key:"addGovAdmin",value:function(t){var i=t.name,a=t.sex,o=t.mobile,r=t.passwd,d=t.gov_id,l=t.role_id,s=t.area_id,u=t.nickname,v=c+"/user/create";return n.a(v,{name:i,sex:a,mobile:o,passwd:r,gov_id:d,role_id:l,area_id:s,nickname:u}).then(function(t){if(t.code)return e.reject(t)})}},{key:"delAdmin",value:function(e){var t=e.id,i=l+"/user/delete/"+t;return n.b(i)}},{key:"getGovTestingData",value:function(e){var t=e.page,i=e.pagesize,a=e.gov_id,o=e.course_id,r=e.date_start,d=void 0===r?"":r,c=e.date_end,s=void 0===c?"":c,u=l+"/testing/lists";return n.b(u,{page:t,pagesize:i,gov_id:a,course_id:o,date_start:d,date_end:s}).then(function(e){return e})}},{key:"getCompanyAppCourseTaskDetail",value:function(e){var t=e.gov_id,i=e.department_id,a=e.type,o=l+"/app/coursetask/detail";return n.b(o,{gov_id:t,department_id:i,type:a}).then(function(e){return e.data})}},{key:"CompanyLogoUpload",value:function(e){var t=(e.gov_id,e.image),i=e.alias,a=r.a.apiHost+"/app/setting";return n.a(a,{image:t,alias:i}).then(function(e){return e.data})}},{key:"getCompanyLogo",value:function(e){var t=(e.gov_id,l+"/app/setting");return n.b(t).then(function(e){return e.data})}},{key:"setCompanyLogo",value:function(e){var t=(e.gov_id,e.logo),i=r.a.apiHost+"/app/setting";return n.a(i,{logo:t})}},{key:"getCompanyManageStat",value:function(){var e=l+"/user/loginlog/lists";return n.b(e).then(function(e){return e.data})}},{key:"getCompanyManage",value:function(e){var t=e.page,i=e.pagesize,a=e.name,o=void 0===a?"":a,r=e.user_name,d=void 0===r?"":r,c=e.gov_id,s=e.role_id,u=void 0===s?"":s,v=e.date_start,p=void 0===v?"":v,f=e.date_end,m=void 0===f?"":f,g=l+"/user/loginlog/lists";return n.b(g,{page:t,pagesize:i,name:o,user_name:d,gov_id:c,role_id:u,date_start:p,date_end:m}).then(function(e){return e})}},{key:"getReportUserlogin",value:function(e){var t=e.page,i=e.pagesize,a=e.gov_id,o=e.level,d=r.a.apiHost+"/report/userlogin/lists";return n.b(d,{page:t,pagesize:i,gov_id:a,level:o}).then(function(e){return e})}},{key:"getCourseHistory",value:function(e){var t=e.page,i=e.pagesize,a=e.user_id,o=e.gov_id,r=e.category_id,d=e.course_id,c=e.date_start,s=e.date_end,u=l+"/course/history/lists";return n.b(u,{page:t,pagesize:i,user_id:a,gov_id:o,category_id:r,course_id:d,date_start:c,date_end:s}).then(function(e){return e})}},{key:"getCompanyStatChart",value:function(e){var t=e.gov_id,i=e.date_start,a=e.date_end,o=l+"/stat/chart";return n.b(o,{gov_id:t,date_start:i,date_end:a}).then(function(e){return e.data})}},{key:"a",value:function(t){var i=t.pagesize,a=t.page,o=l+"/lists";return n.b(o,{pagesize:i,page:a}).then(function(t){return 0==t.code?t:e.reject(t)})}},{key:"getAdminInfo",value:function(t){var i=l+"/view/"+t;return n.b(i,{},!1).then(function(t){return 0==t.code?t.data:e.reject(t)})}},{key:"create",value:function(t){var i=t.role_id,a=t.name,o=t.mobile,r=t.email,d=t.password,c=l+"/create";return n.a(c,{role_id:i,name:a,mobile:o,email:r,password:d}).then(function(t){return 0==t.code?t.data:(xmview.showTip("error",t.message),e.reject(t))})}},{key:"update",value:function(t){var i=t.id,a=t.role_id,o=t.name,r=t.mobile,d=t.email,c=t.password,s=t.sex,u=t.avatar,v=t.address,p=l+"/update/"+i;return n.a(p,{role_id:a,name:o,mobile:r,email:d,password:c,sex:s,avatar:u,address:v}).then(function(t){if(t.code)return e.reject(t)})}},{key:"deleteGov",value:function(t){var i=l+"/gov/delete/"+t;return n.b(i,{}).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"delete",value:function(t){var i=l+"/delete/"+t;return n.b(i,{}).then(function(t){if(t.code)return e.reject(t)})}},{key:"deleteMulty",value:function(e){var t=l+"/batchdel";return n.a(t,{ids:e})}},{key:"moveToCategoryMulty",value:function(e){var t=e.ids,i=e.category_id,a=l+"/batchmove";return n.a(a,{ids:t,category_id:i})}},{key:"setLesson",value:function(t){var i=t.id,a=t.data,o=l+"/"+i+"/setlesson";return n.a(o,a).then(function(t){if(t.code)return e.reject(t)})}},{key:"offline",value:function(e){var t=e.id,i=e.role_id,a=e.name,o=e.mobile,r=e.email,d=e.password,c=e.sex,s=e.avatar,u=e.address,v=e.disabled,p=l+"/update/"+t;return n.a(p,{id:t,role_id:i,name:a,mobile:o,email:r,password:d,sex:c,avatar:s,address:u,disabled:v})}},{key:"online",value:function(e){var t=l+"/update/"+e;return n.a(t,{disabled:0})}},{key:"getUploadUrl",value:function(e){var t=e.image,i=e.alias,a=l+"/upload";return n.a(a,{image:t,alias:i}).then(function(e){return e.data})}}]),t}();t.a=new s}).call(t,i(3))},31:function(e,t,i){i(780);var a=i(5)(i(684),i(843),null,null);e.exports=a.exports},329:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(i(27),i(130));t.default={props:["change","title","province","city","area","disabled"],data:function(){return{provinces:[],citys:[],areas:[],provinceSelect:"",citySelect:"",areaSelect:"",curItem:[],cityData:"",options:[],fetchParam:{pagesize:-1,pid:0,province_id:null,city_id:null,area_id:null},levelPath:null}},watch:{province:function(e){e?(this.provinceSelect=e,this.currentVal(0,e)):this.provinceSelect=""},city:function(e){this.province&&e?(this.citySelect=e,this.currentVal(1,e)):this.citySelect=""},area:function(e){this.province&&this.citySelect&&e?(this.areaSelect=e,this.currentVal(2,e)):this.areaSelect=""},disabled:function(e){e&&(this.provinceSelect="")}},created:function(){},mounted:function(){this.getData(this.fetchParam.pid,"provinces")},methods:{getData:function(e,t){var i=this;this.loading=!0,a.a.postSelectList({pagesize:-1,pid:e,province_id:this.fetchParam.provinceSelect,city_id:this.fetchParam.citySelect,area_id:this.fetchParam.areaSelect}).then(function(e){i.provinces=i.cityData=e,(i.cityData[0].pid=i.cityData[0].area_id)?i.levelPath=2:(i.cityData[0].pid=i.cityData[0].city_id)?i.levelPath=1:i.levelPath=0;var a=[];consoel.log(levelPath),i.cityData.forEach(function(e){a.push({data:e,name:e.name,id:e.id})}),i[t]=a}).then(function(){i.loading=!1})},currentVal:function(e,t){var i=["provinceSelect","citySelect","areaSelect"],a=["provinces","citys","areas"];if(this[i[e]]){if(e<i.length-1){this.getData(t,a[e+1]);for(var o=e+1;o<i.length;o++)this[i[o]]=null}this.change&&this.change(t,a[this.levelPath+1])}},setCurrVal:function(e,t){e=this.levelPath;var i=["provinceChange","cityChange","areaChange"];this.$emit(i[e],t)}}}},335:function(e,t,i){t=e.exports=i(80)(!0),t.push([e.i,".region-container .el-select{max-width:130px!important}","",{version:3,sources:["/Users/zhaoyicheng/Documents/Code/yxt/PC/gov_ui/assets/src/views/component/select/Region.vue"],names:[],mappings:"AACA,6BAA6B,yBAA0B,CACtD",file:"Region.vue",sourcesContent:["\n.region-container .el-select{max-width:130px !important\n}\n"],sourceRoot:""}])},592:function(e,t,i){var a=i(335);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(81)("f36ef9ce",a,!0)},599:function(e,t,i){i(592);var a=i(5)(i(329),i(602),null,null);e.exports=a.exports},602:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{ref:"container",staticClass:"region-container"},[i("i",[e._v(e._s(e.title))]),e._v(" "),i("el-select",{attrs:{disabled:e.disabled,placeholder:"全部",clearable:""},on:{change:function(t){e.setCurrVal(0,e.provinceSelect)}},model:{value:e.provinceSelect,callback:function(t){e.provinceSelect=t},expression:"provinceSelect"}},e._l(e.provinces,function(e,t){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)},staticRenderFns:[]}},684:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(130),o=i(599),n=i.n(o),r=(i(25),i(2));t.default={components:{Region:n.a},data:function(){return{govID:void 0,ID:void 0,pid:void 0,province_id:void 0,city_id:void 0,area_id:null,town_id:void 0,village_id:void 0,govTypes:[{name:"政府",id:2}],formLabelWidth:"120px",form:{id:void 0,category:2,pid:"",province_id:"",city_id:"",area_id:"",town_id:"",village_id:"",name:"",concact:"",mobile:"",email:"",mobile_title:"",tel:"",zip:"",fax:"",url:"",address:"",description:""},rules:{name:[{required:!0,message:"必填项",trigger:"blur"}],concact:[{message:"必填项",trigger:"blur"}],mobile:[{message:"必填项",trigger:"blur"}],email:[{message:"必填项",trigger:"blur"}]}}},computed:{getGovID:function(){return r.a.getUserInfo().gov_id},getID:function(){return this.$route.params.id}},activated:function(){var e=this;this.govID=this.getGovID;var t=this;if(a.a.getGovInfo(t.govID).then(function(e){0!==e.pid&&(t.form.pid=e.pid),0!==e.province_id&&(t.form.province_id=e.province_id),0!==e.city_id&&(t.form.city_id=e.city_id),0!==e.area_id&&(t.form.area_id=e.area_id),0!==e.town_id&&(t.form.town_id=e.town_id),0!==e.village_id&&(t.form.village_id=e.village_id),t.govID=e.province_id||e.city_id||e.area_id||e.town_id||e.village_id,xmview.setContentLoading(!1)}),void 0==this.getID)return this.form={id:void 0,gov_id:void 0,category:2,pid:"",province_id:"",city_id:"",area_id:"",town_id:"",village_id:"",name:"",concact:"",mobile:"",email:"",mobile_title:"",tel:"",zip:"",fax:"",url:"",address:"",description:""},xmview.setContentLoading(!1),!1;a.a.getGovInfo(this.getID).then(function(t){e.form=t,e.getID=e.getID,xmview.setContentLoading(!1)})},mounted:function(){},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.form=Object.assign(t.form,t.sign);var i=a.a.addGov,o="添加成功";t.form.pid=t.form.village_id||t.form.town_id||t.form.area_id||t.form.city_id||t.form.province_id,t.getID&&(t.form.gov_id=t.getID,i=a.a.updateGov,o="修改成功"),i(t.form).then(function(){xmview.showTip("success",o)}).then(function(){t.$router.push({name:"gov-index"})}).catch(function(e){xmview.showTip("error",e.message)})})}}}},740:function(e,t,i){t=e.exports=i(80)(!0),t.push([e.i,".gov-operate-container{background:#fff;padding:20px 200px}.gov-operate-container .addForm .tip{text-align:center;border-top:1px solid #ddd;color:red;line-height:50px}.gov-operate-container .dialog-footer{text-align:center}","",{version:3,sources:["/Users/zhaoyicheng/Documents/Code/yxt/PC/gov_ui/assets/src/views/gov/GovOperate.vue"],names:[],mappings:"AACA,uBAAuB,gBAAgB,kBAAkB,CACxD,AACD,qCAAqC,kBAAkB,0BAA0B,UAAc,gBAAgB,CAC9G,AACD,sCAAsC,iBAAiB,CACtD",file:"GovOperate.vue",sourcesContent:["\n.gov-operate-container{background:#fff;padding:20px 200px\n}\n.gov-operate-container .addForm .tip{text-align:center;border-top:1px solid #ddd;color:#ff0000;line-height:50px\n}\n.gov-operate-container .dialog-footer{text-align:center\n}\n"],sourceRoot:""}])},780:function(e,t,i){var a=i(740);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(81)("b6c7d7a4",a,!0)},843:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"gov-operate-container"},[i("section",[i("el-form",{ref:"form",staticClass:"addForm",attrs:{model:e.form,rules:e.rules,"label-width":e.formLabelWidth}},[i("el-form-item",{attrs:{prop:"name",label:"政府单位名称\t","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"concact",label:"联系人","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.concact,callback:function(t){e.form.concact=t},expression:"form.concact"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"mobile",type:"number",label:"联系人手机","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.mobile,callback:function(t){e.form.mobile=t},expression:"form.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"email",label:"联系人邮箱","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"tel",label:"电话","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.tel,callback:function(t){e.form.tel=t},expression:"form.tel"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"fax",label:"传真","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.fax,callback:function(t){e.form.fax=t},expression:"form.fax"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"address",label:"地址","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.form.address=t},expression:"form.address"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"zip",label:"邮编","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.zip,callback:function(t){e.form.zip=t},expression:"form.zip"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form")}}},[e._v("提交")])],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=4.4523ae6375fb50295fd0.js.map