webpackJsonp([33],{157:function(e,t,r){r(835);var a=r(10)(r(720),r(898),null,null);e.exports=a.exports},256:function(e,t,r){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(23),o=r(4),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=o.a.apiHost+"/mine",u=function(){function t(){a(this,t)}return s(t,[{key:"updateProfile",value:function(e){var t=e.id,r=e.name,a=e.address,s=e.sex,i=e.nickname,u=o.a.apiHost+"/user/edit/"+t;return n.a(u,{name:r,address:a,sex:s,nickname:i})}},{key:"uploadAvatar",value:function(t){var r=t.avatar,a=t.alias,s=t.id,i=o.a.apiHost+"/user/edit/"+s;return n.a(i,{avatar:r,alias:a}).then(function(t){return t.code?e.reject(t):t})}},{key:"getCompanyInfo",value:function(){var e=i+"/company";return n.b(e).then(function(e){return e.data.data})}},{key:"modifyCompany",value:function(t){var r=t.name,a=t.concact,o=t.mobile,s=t.email,u=t.tel,c=t.fax,f=t.province,l=t.city,d=t.area,p=t.address,m=t.zip,v=t.url,h=t.description,w=i+"/company";return n.a(w,{name:r,concact:a,mobile:o,email:s,tel:u,fax:c,province:f,city:l,area:d,address:p,zip:m,url:v,description:h}).then(function(t){if(t.code)return e.reject(t)})}},{key:"modifyPassword",value:function(t){var r=t.id,a=t.passwd,s=o.a.apiHost+"/user/edit/"+r;return n.a(s,{passwd:a}).then(function(t){if(t.code)return e.reject(t)})}},{key:"getSafeSetInfo",value:function(){var e=i+"/two-step/";return n.b(e).then(function(e){return e.data})}},{key:"getWechatLoginConfig",value:function(){var e=i+"/two-step/wechat";return n.b(e).then(function(e){return e.data.wechatConfig})}},{key:"bindOrChangeTwo",value:function(e){var t=e.type,r=e.code,a=e.receiver,o=i+"/two-step/code/bind";return n.a(o,{type:t,code:r,receiver:a}).then(function(e){return e.data.userTwoStepAuthToken})}},{key:"sendTwoValidCode",value:function(e){var t=e.type,r=e.receiver,a=i+"/two-step/code/send";return n.a(a,{type:t,receiver:r})}},{key:"validTwoVliadCode",value:function(e){var t=e.code,r=e.type,a=i+"/two-step/code/verify";return n.a(a,{code:t,type:r}).then(function(e){return e.data.userTwoStepAuthToken})}}]),t}();t.a=new u}).call(t,r(7))},720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(256),n=r(5);t.default={data:function(){return{imgUrl:"",form:{passwd:""},formLabelWidth:"120px",rules:{passwd:{required:!0,message:"必须填写",trigger:"blur"},re_password:[{required:!0,message:"必须填写",trigger:"blur"}]}}},created:function(){this.form=n.a.getUserInfo(),this.form.mobile=this.form.mobile||"未设置",this.form.email=this.form.email||"未设置",xmview.setContentLoading(!1)},watch:{"fetchParam.password":function(){void 0==this.fetchParam.password&&(this.fetchParam.password="")}},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;a.a.modifyPassword(t.form).then(function(){xmview.showTip("success","修改成功")}).catch(function(e){xmview.showTip("error",e.message)})})}}}},795:function(e,t,r){t=e.exports=r(142)(!0),t.push([e.i,".user-password{background:#fff;padding:20px 200px}.user-password .subButton{text-align:center}","",{version:3,sources:["/home/zhaoyicheng/devspace/gov_ui/assets/src/views/base/mine/Password.vue"],names:[],mappings:"AACA,eAAe,gBAAgB,kBAAkB,CAChD,AACD,0BAA0B,iBAAiB,CAC1C",file:"Password.vue",sourcesContent:["\n.user-password{background:#fff;padding:20px 200px\n}\n.user-password .subButton{text-align:center\n}\n"],sourceRoot:""}])},835:function(e,t,r){var a=r(795);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(143)("fec96e06",a,!0)},898:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"user-password"},[r("section",{staticClass:"submit-form"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.mobile)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.email)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{prop:"passwd",label:"修改密码","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"password",placeholder:"新密码","auto-complete":"off"},model:{value:e.form.passwd,callback:function(t){e.form.passwd=t},expression:"form.passwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"subButton"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form")}}},[e._v("提交修改")])],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=33.b70642b8a50c77e2bde0.js.map