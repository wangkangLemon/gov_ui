{"version":3,"sources":["webpack:///static/js/23.7a17cc255e330a99563b.js","webpack:///./src/views/base/mine/Password.vue","webpack:///./src/services/base/mineService.js?0843***","webpack:///Password.vue","webpack:///./src/views/base/mine/Password.vue?33b9","webpack:///./src/views/base/mine/Password.vue?6528","webpack:///./src/views/base/mine/Password.vue?9a24"],"names":["webpackJsonp","149","module","exports","__webpack_require__","Component","229","__webpack_exports__","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","urlPre","apiHost","MineService","this","value","_ref","id","name","address","sex","nickname","url","_ref2","avatar","alias","then","ret","code","reject","data","_ref3","concact","mobile","email","tel","fax","province","city","area","zip","description","finalUrl","_ref4","origin_password","new_password","re_password","wechatConfig","_ref5","type","receiver","userTwoStepAuthToken","_ref6","_ref7","call","683","__WEBPACK_IMPORTED_MODULE_0__services_base_mineService__","__WEBPACK_IMPORTED_MODULE_1__utils_authUtils__","_this","imgUrl","form","formLabelWidth","rules","required","message","trigger","validator","rule","callback","Error","created","getUserInfo","xmview","setContentLoading","methods","submit","_this2","$refs","validate","valid","modifyPassword","showTip","catch","729","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","756","content","locals","794","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label","label-width","_v","_s","prop","placeholder","auto-complete","$$v","expression","on","click","$event","staticRenderFns"],"mappings":"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","file":"static/js/23.7a17cc255e330a99563b.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(756)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(683),\n  /* template */\n  __webpack_require__(794),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 229:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/mine';\n\nvar MineService = function () {\n    function MineService() {\n        _classCallCheck(this, MineService);\n    }\n\n    _createClass(MineService, [{\n        key: 'updateProfile',\n\n        // 修改个人信息\n        // updateProfile({ name, address, sex }) {\n        //     let url = `${urlPre}/profile`\n        //     return api.post(url, { name, address, sex })\n        // }\n        value: function updateProfile(_ref) {\n            var id = _ref.id,\n                name = _ref.name,\n                address = _ref.address,\n                sex = _ref.sex,\n                nickname = _ref.nickname;\n\n            var url = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/user/edit/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { name: name, address: address, sex: sex, nickname: nickname });\n        }\n\n        // 上传头像\n\n    }, {\n        key: 'uploadAvatar',\n        value: function uploadAvatar(_ref2) {\n            var avatar = _ref2.avatar,\n                alias = _ref2.alias,\n                id = _ref2.id;\n\n            var url = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/user/edit/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { avatar: avatar, alias: alias }).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                } else {\n                    return ret;\n                }\n            });\n        }\n\n        // 获取公司信息接口\n\n    }, {\n        key: 'getCompanyInfo',\n        value: function getCompanyInfo() {\n            var url = urlPre + '/company';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data.data;\n            });\n        }\n\n        // 修改公司信息\n\n    }, {\n        key: 'modifyCompany',\n        value: function modifyCompany(_ref3) {\n            var name = _ref3.name,\n                concact = _ref3.concact,\n                mobile = _ref3.mobile,\n                email = _ref3.email,\n                tel = _ref3.tel,\n                fax = _ref3.fax,\n                province = _ref3.province,\n                city = _ref3.city,\n                area = _ref3.area,\n                address = _ref3.address,\n                zip = _ref3.zip,\n                url = _ref3.url,\n                description = _ref3.description;\n\n            var finalUrl = urlPre + '/company';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](finalUrl, {\n                name: name,\n                concact: concact,\n                mobile: mobile,\n                email: email,\n                tel: tel,\n                fax: fax,\n                province: province,\n                city: city,\n                area: area,\n                address: address,\n                zip: zip,\n                url: url,\n                description: description\n            }).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 修改密码\n\n    }, {\n        key: 'modifyPassword',\n        value: function modifyPassword(_ref4) {\n            var origin_password = _ref4.origin_password,\n                new_password = _ref4.new_password,\n                re_password = _ref4.re_password;\n\n            var url = urlPre + '/password';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { origin_password: origin_password, new_password: new_password, re_password: re_password }).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // =========================二次登陆部分============\n\n    }, {\n        key: 'getSafeSetInfo',\n        value: function getSafeSetInfo() {\n            var url = urlPre + '/two-step/';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 二次登陆绑定的微信登录参数\n\n    }, {\n        key: 'getWechatLoginConfig',\n        value: function getWechatLoginConfig() {\n            var url = urlPre + '/two-step/wechat';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data.wechatConfig;\n            });\n        }\n\n        // 绑定邮箱或者手机\n\n    }, {\n        key: 'bindOrChangeTwo',\n        value: function bindOrChangeTwo(_ref5) {\n            var type = _ref5.type,\n                code = _ref5.code,\n                receiver = _ref5.receiver;\n\n            var url = urlPre + '/two-step/code/bind';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { type: type, code: code, receiver: receiver }).then(function (ret) {\n                return ret.data.userTwoStepAuthToken;\n            });\n        }\n\n        // 短信和邮箱验证码\n\n    }, {\n        key: 'sendTwoValidCode',\n        value: function sendTwoValidCode(_ref6) {\n            var type = _ref6.type,\n                receiver = _ref6.receiver;\n\n            var url = urlPre + '/two-step/code/send';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { type: type, receiver: receiver });\n        }\n\n        // 校验验证码\n\n    }, {\n        key: 'validTwoVliadCode',\n        value: function validTwoVliadCode(_ref7) {\n            var code = _ref7.code,\n                type = _ref7.type;\n\n            var url = urlPre + '/two-step/code/verify';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { code: code, type: type }).then(function (ret) {\n                return ret.data.userTwoStepAuthToken;\n            });\n        }\n    }]);\n\n    return MineService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new MineService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(7)))\n\n/***/ }),\n\n/***/ 683:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_base_mineService__ = __webpack_require__(229);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_authUtils__ = __webpack_require__(5);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        var _this = this;\n\n        var validateRepass = function validateRepass(rule, value, callback) {\n            if (value !== _this.form.new_password) {\n                callback(new Error('两次输入密码不一致!'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            imgUrl: '',\n            form: {\n                origin_password: '',\n                new_password: '',\n                re_password: ''\n            },\n            formLabelWidth: '120px', // 表单label的宽度\n            rules: {\n                origin_password: { required: true, message: '必须填写', trigger: 'blur' },\n                new_password: { required: true, message: '必须填写', trigger: 'blur' },\n                re_password: [{ required: true, message: '必须填写', trigger: 'blur' }, { validator: validateRepass, trigger: 'blur' }]\n            }\n        };\n    },\n    created: function created() {\n        this.form = __WEBPACK_IMPORTED_MODULE_1__utils_authUtils__[\"a\" /* default */].getUserInfo();\n        this.form.mobile = this.form.mobile || '未设置';\n        this.form.email = this.form.email || '未设置';\n        xmview.setContentLoading(false);\n    },\n\n    methods: {\n        submit: function submit(form) {\n            var _this2 = this;\n\n            this.$refs[form].validate(function (valid) {\n                if (valid) {\n                    __WEBPACK_IMPORTED_MODULE_0__services_base_mineService__[\"a\" /* default */].modifyPassword(_this2.form).then(function () {\n                        xmview.showTip('success', '修改成功');\n                    }).catch(function (ret) {\n                        xmview.showTip('error', ret.message);\n                    });\n                } else {\n                    return false;\n                }\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 729:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(137)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".user-password{background:#fff;padding:20px 200px}.user-password .subButton{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/base/mine/Password.vue\"],\"names\":[],\"mappings\":\"AACA,eAAe,gBAAgB,kBAAkB,CAChD,AACD,0BAA0B,iBAAiB,CAC1C\",\"file\":\"Password.vue\",\"sourcesContent\":[\"\\n.user-password{background:#fff;padding:20px 200px\\n}\\n.user-password .subButton{text-align:center\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 756:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(729);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(138)(\"fec96e06\", content, true);\n\n/***/ }),\n\n/***/ 794:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    staticClass: \"user-password\"\n  }, [_c('section', {\n    staticClass: \"submit-form\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.form.mobile) + \"\\n            \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.form.email) + \"\\n            \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"origin_password\",\n      \"label\": \"原密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"原密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.origin_password),\n      callback: function($$v) {\n        _vm.form.origin_password = $$v\n      },\n      expression: \"form.origin_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"new_password\",\n      \"label\": \"新密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"新密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.new_password),\n      callback: function($$v) {\n        _vm.form.new_password = $$v\n      },\n      expression: \"form.new_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"re_password\",\n      \"label\": \"确认密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"确认密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.re_password),\n      callback: function($$v) {\n        _vm.form.re_password = $$v\n      },\n      expression: \"form.re_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"subButton\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit('form')\n      }\n    }\n  }, [_vm._v(\"提交修改\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/23.7a17cc255e330a99563b.js","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-8461149a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./Password.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./Password.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-8461149a\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./Password.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/base/mine/Password.vue\n// module id = 149\n// module chunks = 23","import * as api from '../api'\nimport config from '../../utils/config'\n\nconst urlPre = config.apiHost + '/mine'\nclass MineService {\n    // 修改个人信息\n    // updateProfile({ name, address, sex }) {\n    //     let url = `${urlPre}/profile`\n    //     return api.post(url, { name, address, sex })\n    // }\n    updateProfile({ id, name, address, sex, nickname }) {\n        let url = `${config.apiHost}/user/edit/${id}`\n        return api.post(url, { name, address, sex, nickname })\n    }\n\n    // 上传头像\n    uploadAvatar({ avatar, alias, id }) {\n        let url = `${config.apiHost}/user/edit/${id}`\n        return api.post(url, { avatar, alias }).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            } else {\n                return ret\n            }\n        })\n    }\n\n    // 获取公司信息接口\n    getCompanyInfo() {\n        let url = `${urlPre}/company`\n        return api.get(url).then((ret) => {\n            return ret.data.data\n        })\n    }\n\n    // 修改公司信息\n    modifyCompany({ name, concact, mobile, email, tel, fax, province, city, area, address, zip, url, description }) {\n        let finalUrl = `${urlPre}/company`\n        return api.post(finalUrl, {\n            name,\n            concact,\n            mobile,\n            email,\n            tel,\n            fax,\n            province,\n            city,\n            area,\n            address,\n            zip,\n            url,\n            description\n        }).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 修改密码\n    modifyPassword({ origin_password, new_password, re_password }) {\n        let url = `${urlPre}/password`\n        return api.post(url, { origin_password, new_password, re_password }).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // =========================二次登陆部分============\n    getSafeSetInfo() {\n        let url = `${urlPre}/two-step/`\n        return api.get(url).then(ret => {\n            return ret.data\n        })\n    }\n\n    // 二次登陆绑定的微信登录参数\n    getWechatLoginConfig() {\n        let url = `${urlPre}/two-step/wechat`\n        return api.get(url).then(ret => {\n            return ret.data.wechatConfig\n        })\n    }\n\n    // 绑定邮箱或者手机\n    bindOrChangeTwo({ type, code, receiver }) {\n        let url = `${urlPre}/two-step/code/bind`\n        return api.post(url, { type, code, receiver }).then((ret) => {\n            return ret.data.userTwoStepAuthToken\n        })\n    }\n\n    // 短信和邮箱验证码\n    sendTwoValidCode({ type, receiver }) {\n        let url = `${urlPre}/two-step/code/send`\n        return api.post(url, { type, receiver })\n    }\n\n    // 校验验证码\n    validTwoVliadCode({ code, type }) {\n        let url = `${urlPre}/two-step/code/verify`\n        return api.post(url, { code, type }).then((ret) => {\n            return ret.data.userTwoStepAuthToken\n        })\n    }\n}\n\nexport default new MineService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/base/mineService.js","<!--修改密码-->\n<style lang=\"scss\">\n@import \"../../../utils/mixins/_mixins.scss\";\n\n.user-password {\n    background: #fff;\n    padding: 20px 200px;\n    .subButton {\n        text-align: center;\n    }\n}\n</style>\n<template>\n    <article class=\"user-password\">\n        <section class=\"submit-form\">\n            <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\n                <el-form-item label=\"手机号码\" :label-width=\"formLabelWidth\">\n                    {{form.mobile}}\n                </el-form-item>\n                <el-form-item label=\"邮箱\" :label-width=\"formLabelWidth\">\n                    {{form.email}}\n                </el-form-item>\n                <el-form-item prop=\"origin_password\" label=\"原密码\" :label-width=\"formLabelWidth\">\n                    <el-input type=\"password\" v-model=\"form.origin_password\" placeholder=\"原密码\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"new_password\" label=\"新密码\" :label-width=\"formLabelWidth\">\n                    <el-input type=\"password\" v-model=\"form.new_password\" placeholder=\"新密码\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"re_password\" label=\"确认密码\" :label-width=\"formLabelWidth\">\n                    <el-input type=\"password\" v-model=\"form.re_password\" placeholder=\"确认密码\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item class=\"subButton\">\n                    <el-button type=\"primary\" @click=\"submit('form')\">提交修改</el-button>\n                </el-form-item>\n            </el-form>\n        </section>\n    </article>\n</template>\n<script>\nimport mineService from '../../../services/base/mineService'\nimport authUtils from '../../../utils/authUtils'\nexport default {\n    data() {\n        let validateRepass = (rule, value, callback) => {\n            if (value !== this.form.new_password) {\n                callback(new Error('两次输入密码不一致!'))\n            } else {\n                callback()\n            }\n        }\n        return {\n            imgUrl: '',\n            form: {\n                origin_password: '',\n                new_password: '',\n                re_password: ''\n            },\n            formLabelWidth: '120px', // 表单label的宽度\n            rules: {\n                origin_password: { required: true, message: '必须填写', trigger: 'blur' },\n                new_password: { required: true, message: '必须填写', trigger: 'blur' },\n                re_password: [\n                    { required: true, message: '必须填写', trigger: 'blur' },\n                    { validator: validateRepass, trigger: 'blur' }\n                ],\n            }\n        }\n    },\n    created() {\n        this.form = authUtils.getUserInfo()\n        this.form.mobile = this.form.mobile || '未设置'\n        this.form.email = this.form.email || '未设置'\n        xmview.setContentLoading(false)\n    },\n    methods: {\n        submit(form) {\n            this.$refs[form].validate((valid) => {\n                if (valid) {\n                    mineService.modifyPassword(this.form).then(() => {\n                        xmview.showTip('success', '修改成功')\n                    }).catch((ret) => {\n                        xmview.showTip('error', ret.message)\n                    })\n                } else {\n                    return false\n                }\n            })\n        }\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Password.vue?79b08648","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".user-password{background:#fff;padding:20px 200px}.user-password .subButton{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/base/mine/Password.vue\"],\"names\":[],\"mappings\":\"AACA,eAAe,gBAAgB,kBAAkB,CAChD,AACD,0BAA0B,iBAAiB,CAC1C\",\"file\":\"Password.vue\",\"sourcesContent\":[\"\\n.user-password{background:#fff;padding:20px 200px\\n}\\n.user-password .subButton{text-align:center\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-8461149a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/base/mine/Password.vue\n// module id = 729\n// module chunks = 23","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-8461149a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./Password.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"fec96e06\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-8461149a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/base/mine/Password.vue\n// module id = 756\n// module chunks = 23","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    staticClass: \"user-password\"\n  }, [_c('section', {\n    staticClass: \"submit-form\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.form.mobile) + \"\\n            \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.form.email) + \"\\n            \")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"origin_password\",\n      \"label\": \"原密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"原密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.origin_password),\n      callback: function($$v) {\n        _vm.form.origin_password = $$v\n      },\n      expression: \"form.origin_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"new_password\",\n      \"label\": \"新密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"新密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.new_password),\n      callback: function($$v) {\n        _vm.form.new_password = $$v\n      },\n      expression: \"form.new_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"re_password\",\n      \"label\": \"确认密码\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"placeholder\": \"确认密码\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.re_password),\n      callback: function($$v) {\n        _vm.form.re_password = $$v\n      },\n      expression: \"form.re_password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"subButton\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit('form')\n      }\n    }\n  }, [_vm._v(\"提交修改\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-8461149a\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/base/mine/Password.vue\n// module id = 794\n// module chunks = 23"],"sourceRoot":""}