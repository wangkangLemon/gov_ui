{"version":3,"sources":["webpack:///static/js/22.f4b02fd2efa140a748fc.js","webpack:///./src/views/announce/announceSend.vue","webpack:///UploadImages.vue?3eda*","webpack:///./src/views/component/upload/UploadImages.vue?2484**","webpack:///./src/views/component/upload/UploadImages.vue?9790**","webpack:///./src/views/component/upload/UploadImages.vue?04c2*","webpack:///./src/views/component/upload/UploadImages.vue?88f3**","webpack:///./src/services/announce/announceService.js","webpack:///announceSend.vue","webpack:///./src/views/announce/announceSend.vue?143c","webpack:///./src/views/announce/announceSend.vue?5f8c","webpack:///./src/views/announce/announceSend.vue?f743"],"names":["webpackJsonp","148","module","exports","__webpack_require__","Component","303","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__utils_authUtils__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","props","url","String","name","type","default","onSuccess","Function","onRemove","fileNum","Number","data","dialogImageUrl","dialogVisible","showUploadBtn","headers","host","apiHost","uploadBtn","multiple","imgList","watch","val","length","this","style","display","created","Authorization","getAuthToken","TwoStep","getTwiceToken","activated","$refs","container","querySelector","mounted","methods","handlePreview","file","handleRemove","fileList","handleSuccess","response","code","xmview","showTip","message","clearFiles","307","push","i","version","sources","names","mappings","sourcesContent","sourceRoot","362","content","locals","365","367","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","action","list-type","on-success","on-error","on-preview","on-remove","file-list","limit","accept","_v","size","model","callback","$$v","expression","width","src","alt","staticRenderFns","393","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","_createClass","defineProperties","target","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","urlPre","CompanyService","_ref","_ref$name","undefined","_ref$page","page","_ref$pagesize","pagesize","finalUrl","then","ret","_ref2","title","images","sendtime","range","reqParam","reject","company_id","call","707","getFetchParam","__WEBPACK_IMPORTED_MODULE_0__services_announce_announceService_js__","__WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue__","__WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue___default","n","__WEBPACK_IMPORTED_MODULE_3__utils_timeUtils_js__","activeTab","uploadImgUrl","nodeSelected","nodeParentSelected","moveToNode","treeData","dialogConfirm","isShow","msg","confirmClick","dialogTree","fetchParam","rules","required","trigger","checkedMenus","checkAll","allCheckData","resetForm","setContentLoading","getUploadCategoryImgUrl","uploadImg","fetchData","handleCheckAllChange","event","arr","map","v","id","checked","handleCheckedMenusChange","checkedCount","_this","fetchAllCheckData","loadingData","handleImgUploaded","clearSelected","selectable","submitForm","_this2","join","form","validate","announceSend","resetFields","$router","components","UploadImg","a","795","837","903","label-position","label-width","label","prop","on","change","staticStyle","margin","_l","item","_s","click","domProps","innerHTML","slot","$event"],"mappings":"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","file":"static/js/22.f4b02fd2efa140a748fc.js","sourcesContent":["webpackJsonp([22],{\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(837)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(707),\n  /* template */\n  __webpack_require__(903),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(4);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        // 要上传的url地址\n        url: String,\n        // 上传的文件字段名\n        name: {\n            type: String,\n            default: 'image'\n        },\n        // 上传成功后的回调\n        onSuccess: Function,\n        // 删除后的回调\n        onRemove: Function,\n        // 允许上传多少个文件，默认只允许上传一个\n        fileNum: {\n            type: Number,\n            default: 9\n        }\n    },\n    data: function data() {\n        return {\n            dialogImageUrl: '',\n            dialogVisible: false,\n            showUploadBtn: true,\n            headers: void 0,\n            host: __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost,\n            uploadBtn: null, // 上传按钮\n            multiple: true,\n            imgList: []\n\n        };\n    },\n\n    watch: {\n        'imgList': function imgList(val) {\n            // console.log(this.apiHost)\n            if (val.length >= this.fileNum && val[0].url) {\n                // console.log('hide btn')\n                this.uploadBtn.style.display = 'none';\n            } else {\n                // console.log('show btn')\n                this.uploadBtn.style.display = 'inline-block';\n            }\n        }\n    },\n    created: function created() {\n        this.headers = {\n            'Authorization': 'Bearer ' + __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__[\"a\" /* default */].getAuthToken(),\n            'TwoStep': 'Bearer ' + __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__[\"a\" /* default */].getTwiceToken() // 二次验证的token\n        };\n    },\n    activated: function activated() {\n        this.uploadBtn && (this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card'));\n    },\n    mounted: function mounted() {\n        this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card');\n    },\n\n    methods: {\n        handlePreview: function handlePreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        },\n        handleRemove: function handleRemove(file, fileList) {\n            // console.log('handleRemove', file, fileList)\n            this.onRemove && this.onRemove(file, fileList);\n            this.imgList = fileList;\n            // this.$refs.container.querySelector('.el-upload__input').value = null\n        },\n        handleSuccess: function handleSuccess(response, file, fileList) {\n            // console.log( response)\n            // console.log('handleSuccess', response, file, fileList)\n\n            if (response.code == 0) {\n                this.onSuccess && this.onSuccess(response);\n\n                // this.dialogImageUrl = '';\n                // this.dialogVisible = false;\n                this.imgList = fileList;\n                // console.table(this.imgList);\n            } else {\n                xmview.showTip('error', response.message);\n            }\n        },\n        clearFiles: function clearFiles() {\n            this.imgList = [];\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(142)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".component-upload-uploadimages{height:auto!important}.component-upload-uploadimages .el-upload--picture-card,.component-upload-uploadimages .el-upload-list__item{width:100px;height:100px}.component-upload-uploadimages .el-upload--picture-card{line-height:100px}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/component/upload/UploadImages.vue\"],\"names\":[],\"mappings\":\"AACA,+BAA+B,qBAAsB,CACpD,AACD,6GAA6G,YAAY,YAAY,CACpI,AACD,wDAAwD,iBAAiB,CACxE\",\"file\":\"UploadImages.vue\",\"sourcesContent\":[\"\\n.component-upload-uploadimages{height:auto !important\\n}\\n.component-upload-uploadimages .el-upload-list__item,.component-upload-uploadimages .el-upload--picture-card{width:100px;height:100px\\n}\\n.component-upload-uploadimages .el-upload--picture-card{line-height:100px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 362:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(307);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(143)(\"0e24c647\", content, true);\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(362)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(303),\n  /* template */\n  __webpack_require__(367),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 367:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"container\",\n    staticClass: \"component-upload-uploadimages\"\n  }, [_c('el-upload', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"action\": _vm.url,\n      \"name\": _vm.name,\n      \"list-type\": \"picture-card\",\n      \"multiple\": _vm.multiple,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleRemove,\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.imgList,\n      \"limit\": 2,\n      \"accept\": \"image/jpg,image/jpeg,image/png,image/gif\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  })]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogVisible),\n      callback: function($$v) {\n        _vm.dialogVisible = $$v\n      },\n      expression: \"dialogVisible\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"width\": \"100%\",\n      \"src\": _vm.dialogImageUrl,\n      \"alt\": \"\"\n    }\n  })])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 我是代理\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/gov/announce';\n\nvar CompanyService = function () {\n    function CompanyService() {\n        _classCallCheck(this, CompanyService);\n    }\n\n    _createClass(CompanyService, [{\n        key: 'getAnnounceListsData',\n\n        // 搜索\n        value: function getAnnounceListsData(_ref) {\n            var _ref$name = _ref.name,\n                name = _ref$name === undefined ? '' : _ref$name,\n                _ref$page = _ref.page,\n                page = _ref$page === undefined ? 1 : _ref$page,\n                _ref$pagesize = _ref.pagesize,\n                pagesize = _ref$pagesize === undefined ? 10 : _ref$pagesize;\n\n            var finalUrl = urlPre + '/lists';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](finalUrl, {\n                name: name,\n                // area,\n                // category,\n                // status,\n                page: page,\n                pagesize: pagesize\n            }, false).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 获取\n\n    }, {\n        key: 'fetchAllCheckData',\n        value: function fetchAllCheckData() {\n            var finalUrl = urlPre + '/contacts';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](finalUrl).then(function (ret) {\n                return ret.data;\n            });\n        }\n        // 获取详情接口\n\n    }, {\n        key: 'getAnnounceDetail',\n        value: function getAnnounceDetail(val) {\n            var finalUrl = urlPre + '/get/' + val;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](finalUrl).then(function (ret) {\n                return ret.data;\n            });\n        }\n    }, {\n        key: 'getUploadCategoryImgUrl',\n        value: function getUploadCategoryImgUrl() {\n            return __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/common/upload/file';\n        }\n    }, {\n        key: 'announceSend',\n        value: function announceSend(_ref2) {\n            var title = _ref2.title,\n                content = _ref2.content,\n                images = _ref2.images,\n                sendtime = _ref2.sendtime,\n                range = _ref2.range;\n\n            var reqParam = { title: title, content: content, images: images, sendtime: sendtime, range: range };\n            var url = urlPre + '/send';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, reqParam).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                    return ret.data;\n                } else {\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n        // 确认关联\n\n    }, {\n        key: 'confirm',\n        value: function confirm(company_id) {\n            var finalUrl = urlPre + '/' + company_id + '/confirm';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"d\" /* put */](finalUrl, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 拒绝关联\n\n    }, {\n        key: 'deny',\n        value: function deny(company_id) {\n            var finalUrl = urlPre + '/' + company_id + '/deny';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"d\" /* put */](finalUrl, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 解除关联，代理商操作解除，要判断是否有计划在投放中\n\n    }, {\n        key: 'cancel',\n        value: function cancel(company_id) {\n            var finalUrl = urlPre + '/' + company_id + '/cancel';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"d\" /* put */](finalUrl, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n    }]);\n\n    return CompanyService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new CompanyService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(7)))\n\n/***/ }),\n\n/***/ 707:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_announce_announceService_js__ = __webpack_require__(393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_treeUtils__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue__ = __webpack_require__(365);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_timeUtils_js__ = __webpack_require__(43);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            activeTab: 'add',\n            uploadImgUrl: '',\n            nodeSelected: void 0, // 被选中的node节点\n            nodeParentSelected: void 0, // 被选中node节点的父节点\n            moveToNode: void 0, // 将要移动到最终的栏目\n            treeData: [],\n            dialogConfirm: {\n                isShow: false,\n                msg: '',\n                confirmClick: {}\n            },\n            dialogTree: {\n                isShow: false,\n                confirmClick: {}\n            },\n            fetchParam: getFetchParam(),\n            rules: {\n                title: [{ required: true, message: '请输入公告标题', trigger: 'blur' }],\n                content: [{ required: true, message: '请输入公告内容', trigger: 'blur' }],\n                images: [\n                    // {required: true, message: '请上传栏目logo', trigger: 'blur'}\n                ]\n            },\n            checkedMenus: [],\n            //checkbox 的相关数据\n            checkAll: false,\n            allCheckData: [] // 总的数据\n        };\n    },\n\n    watch: {\n        'activeTab': function activeTab(val) {\n            if (val === 'add' || val === 'root') {\n                this.resetForm();\n            }\n        }\n    },\n\n    activated: function activated() {\n        this.fetchParam = getFetchParam();\n        console.log(this.fetchParam);\n        this.checkAll = this.checkedMenus = 0;\n        xmview.setContentLoading(false);\n        this.uploadImgUrl = __WEBPACK_IMPORTED_MODULE_0__services_announce_announceService_js__[\"a\" /* default */].getUploadCategoryImgUrl();\n        console.log(this.uploadImgUrl);\n        this.$refs.uploadImg.clearFiles();\n        this.fetchData();\n    },\n\n    methods: {\n        //全选反选按钮\n        handleCheckAllChange: function handleCheckAllChange(event) {\n            var arr = this.allCheckData.map(function (v) {\n                return v.id;\n            });\n            this.checkedMenus = event.target.checked ? arr : [];\n        },\n        handleCheckedMenusChange: function handleCheckedMenusChange(value) {\n            var checkedCount = value.length;\n            this.checkAll = checkedCount === this.allCheckData.length;\n        },\n\n\n        //总的数据     \n        fetchData: function fetchData(val) {\n            var _this = this;\n\n            return __WEBPACK_IMPORTED_MODULE_0__services_announce_announceService_js__[\"a\" /* default */].fetchAllCheckData(this.fetchParam).then(function (ret) {\n                // console.log('全部的菜单======')\n                _this.allCheckData = ret;\n                _this.loadingData = false;\n                _this.checkAll = _this.checkedMenus.length === _this.allCheckData.length;\n                xmview.setContentLoading(false);\n            });\n        },\n\n        // 图片上传完毕\n        handleImgUploaded: function handleImgUploaded(response, file, fileList) {\n\n            // this.fetchParam.images = response.url\n            // if (this.fetchParam.images.indexOf(response.data.url) == -1) {\n            //     this.fetchParam.images.push(response.data.url)\n            // }\n\n\n            // console.log(response)\n\n\n            //  this.fetchParam.images = response.map(function(v){\n            //     return v.response.data.url\n            // }).join()\n\n\n            // console.log(this.fetchParam.images)\n        },\n\n\n        // 清空选中项\n        clearSelected: function clearSelected() {\n            this.selectable = false;\n        },\n\n        // 提交表单\n        submitForm: function submitForm() {\n            var _this2 = this;\n\n            // announceService.createM(this.$route.params.role_id,ids).then((ret) => {\n            //     this.fetchParamImp = ret\n            //     console.log(ret)\n            // })\n\n            this.fetchParam.images = this.$refs.uploadImg.imgList.map(function (v) {\n                return v.response.data.url;\n            }).join();\n\n            this.$refs.form.validate(function (ret) {\n                if (!ret) return;\n                _this2.fetchParam.sendtime = _this2.fetchParam.sendtime ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_timeUtils_js__[\"b\" /* date2Str */])(_this2.fetchParam.sendtime) : '';\n                _this2.fetchParam.range = _this2.checkedMenus.join(',');\n                // console.log(this.fetchParam)\n                __WEBPACK_IMPORTED_MODULE_0__services_announce_announceService_js__[\"a\" /* default */].announceSend(_this2.fetchParam).then(function (ret) {\n                    xmview.showTip('success', '操作成功!');\n                    _this2.$refs['form'].resetFields();\n                    // if (this.activeTab === 'edit') {\n                    //     this.nodeSelected.label = this.fetchParam.title  \n                    //     node.data.data=this.fetchParam\n                    //     // this.nodeSelected.item = this.fetchParam\n                    //     this.$forceUpdate()\n                    // } else {\n                    //     this.fetchParam.id = ret.data.id\n                    //     let addedItem = {\n                    //         title: this.fetchParam.title,\n                    //         value: this.fetchParam.id,\n                    //         item: this.fetchParam\n                    //     }\n\n                    // 如果是添加的根节点\n                    _this2.$router.push({ name: 'announce-lists' });\n                    _this2.fetchParam = getFetchParam();\n                    // }\n                });\n            });\n        },\n\n        // 重置表单\n        resetForm: function resetForm() {\n            this.$refs.form.resetFields();\n        }\n    },\n    components: { UploadImg: __WEBPACK_IMPORTED_MODULE_2__component_upload_UploadImages_vue___default.a }\n});\n\nfunction getFetchParam() {\n    return {\n        title: void 0,\n        content: void 0,\n        images: void 0,\n        sendtime: '',\n        range: ''\n\n    };\n}\n\n/***/ }),\n\n/***/ 795:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(142)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#course-manage-coursecategory{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#course-manage-coursecategory:after{content:\\\"\\\";clear:both;display:block}#course-manage-coursecategory .pagin{float:right;margin-top:15px}#course-manage-coursecategory .bottom-manage{margin-top:15px}#course-manage-coursecategory .manage-container{position:absolute;right:0;top:-50px}#course-manage-coursecategory .header-button.manage-container>.el-button i{margin-right:5px}#course-manage-coursecategory .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-manage-coursecategory>section{display:inline-block;vertical-align:top}#course-manage-coursecategory .left-container{min-width:300px;border-right:1px solid #ededed}#course-manage-coursecategory .right-container{margin-left:15px;width:700px}#course-manage-coursecategory .right-container .edit-content{margin:10px 0 0}#course-manage-coursecategory .right-container .btn-selected{background:#20a0ff;color:#fff}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/announce/announceSend.vue\"],\"names\":[],\"mappings\":\"AACA,8BAA8B,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACtH,AACD,oCAAoC,WAAW,WAAW,aAAa,CACtE,AACD,qCAAqC,YAAY,eAAe,CAC/D,AACD,6CAA6C,eAAe,CAC3D,AACD,gDAAgD,kBAAkB,QAAQ,SAAS,CAClF,AACD,2EAA2E,gBAAgB,CAC1F,AACD,kFAAkF,kBAAkB,QAAQ,CAC3G,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,sCAAsC,qBAAqB,kBAAkB,CAC5E,AACD,8CAA8C,gBAAgB,8BAA8B,CAC3F,AACD,+CAA+C,iBAAiB,WAAW,CAC1E,AACD,6DAA6D,eAAe,CAC3E,AACD,6DAA6D,mBAAmB,UAAU,CACzF\",\"file\":\"announceSend.vue\",\"sourcesContent\":[\"\\n#course-manage-coursecategory{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-manage-coursecategory:after{content:'';clear:both;display:block\\n}\\n#course-manage-coursecategory .pagin{float:right;margin-top:15px\\n}\\n#course-manage-coursecategory .bottom-manage{margin-top:15px\\n}\\n#course-manage-coursecategory .manage-container{position:absolute;right:0;top:-50px\\n}\\n#course-manage-coursecategory .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#course-manage-coursecategory .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-manage-coursecategory>section{display:inline-block;vertical-align:top\\n}\\n#course-manage-coursecategory .left-container{min-width:300px;border-right:1px solid #ededed\\n}\\n#course-manage-coursecategory .right-container{margin-left:15px;width:700px\\n}\\n#course-manage-coursecategory .right-container .edit-content{margin:10px 0 0\\n}\\n#course-manage-coursecategory .right-container .btn-selected{background:#20A0FF;color:#fff\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(795);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(143)(\"12b6e34a\", content, true);\n\n/***/ }),\n\n/***/ 903:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"course-manage-coursecategory\"\n    }\n  }, [_c('section', {\n    staticClass: \"right-container\"\n  }, [_c('el-card', {\n    staticClass: \"edit-content\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-position\": \"right\",\n      \"label-width\": \"90px\",\n      \"rules\": _vm.rules,\n      \"model\": _vm.fetchParam\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"公告标题\",\n      \"prop\": \"title\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.fetchParam.title),\n      callback: function($$v) {\n        _vm.fetchParam.title = $$v\n      },\n      expression: \"fetchParam.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公告内容\",\n      \"prop\": \"content\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.fetchParam.content),\n      callback: function($$v) {\n        _vm.fetchParam.content = $$v\n      },\n      expression: \"fetchParam.content\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"images\",\n    attrs: {\n      \"label\": \"公告图片\",\n      \"prop\": \"images\"\n    }\n  }, [_c('UploadImg', {\n    ref: \"uploadImg\",\n    attrs: {\n      \"fetchParam\": _vm.fetchParam.images,\n      \"url\": _vm.uploadImgUrl,\n      \"onSuccess\": _vm.handleImgUploaded\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"sendtime\",\n      \"label\": \"发送时间\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"date\"\n    },\n    model: {\n      value: (_vm.fetchParam.sendtime),\n      callback: function($$v) {\n        _vm.fetchParam.sendtime = $$v\n      },\n      expression: \"fetchParam.sendtime\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发送范围\"\n    }\n  }, [_c('el-checkbox', {\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"15px 0\"\n    }\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedMenusChange\n    },\n    model: {\n      value: (_vm.checkedMenus),\n      callback: function($$v) {\n        _vm.checkedMenus = $$v\n      },\n      expression: \"checkedMenus\"\n    }\n  }, _vm._l((_vm.allCheckData), function(item) {\n    return _c('el-checkbox', {\n      key: item.id,\n      attrs: {\n        \"label\": item.id,\n        \"value\": item.id\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }))], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.submitForm\n    }\n  }, [_vm._v(\"保存\\n                        \")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"操作提示\",\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogConfirm.isShow),\n      callback: function($$v) {\n        _vm.dialogConfirm.isShow = $$v\n      },\n      expression: \"dialogConfirm.isShow\"\n    }\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.dialogConfirm.msg)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogConfirm.isShow = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.dialogConfirm.confirmClick\n    }\n  }, [_vm._v(\"确 定\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/22.f4b02fd2efa140a748fc.js","\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-90b3bc26\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./announceSend.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./announceSend.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-90b3bc26\\\"}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./announceSend.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/announce/announceSend.vue\n// module id = 148\n// module chunks = 22","<!--使用ex.-->\n<!--<el-form-item label=\"反馈附件\" prop=\"image\">-->\n<!--<UploadImages :url=\"uploadImgUrl\" :fileNum=\"fileNum\" :name=\"file\"-->\n<!--:on-success=\"res => form.images.push(res.data.url)\"-->\n<!--:on-remove=\"file => form.images.splice(form.images.indexOf(file.response.data.url),1)\" ></UploadImg>-->\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n    @import \"../../../utils/mixins/mixins\";\n    .component-upload-uploadimages {\n        height: auto !important;\n        .el-upload-list__item,\n        .el-upload--picture-card {\n            width: 100px;\n            height: 100px;\n        }\n        .el-upload--picture-card {\n            line-height: 100px;\n        }\n    }\n</style>\n<template>\n    <div class=\"component-upload-uploadimages\" ref=\"container\">\n        <el-upload :headers=\"headers\"\n                   :action=\"url\"\n                   :name=\"name\"\n                   list-type=\"picture-card\"\n                   :multiple=\"multiple\"\n                   :on-success=\"handleSuccess\"\n                   :on-error=\"handleRemove\"\n                   :on-preview=\"handlePreview\"\n                   :on-remove=\"handleRemove\"\n                   :file-list=\"imgList\" \n                   :limit=\"2\" \n                   accept=\"image/jpg,image/jpeg,image/png,image/gif\">\n            <!--<i v-if=\"showUploadBtn\" class=\"el-icon-plus\"></i>-->\n            <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog v-model=\"dialogVisible\" size=\"tiny\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import authUtils from '../../../utils/authUtils'\n    import config from '../../../utils/config'\n    export default{\n        props: {\n            // 要上传的url地址\n            url: String,\n            // 上传的文件字段名\n            name: {\n                type: String,\n                default: 'image',\n            },\n            // 上传成功后的回调\n            onSuccess: Function,\n            // 删除后的回调\n            onRemove: Function,\n            // 允许上传多少个文件，默认只允许上传一个\n            fileNum: {\n                type: Number,\n                default: 9\n            },\n        },\n        data () {\n            return {\n                dialogImageUrl: '',\n                dialogVisible: false,\n                showUploadBtn: true,\n                headers: void 0,\n                host: config.apiHost,\n                uploadBtn: null, // 上传按钮\n                multiple: true,\n                imgList: [],\n\n            }\n        },\n        watch: {\n            'imgList' (val) {\n                // console.log(this.apiHost)\n                if (val.length >= this.fileNum && val[0].url) {\n                    // console.log('hide btn')\n                    this.uploadBtn.style.display = 'none'\n                } else {\n                    // console.log('show btn')\n                    this.uploadBtn.style.display = 'inline-block'\n                }\n            }\n        },\n        created () {\n            this.headers = {\n                'Authorization': 'Bearer ' + authUtils.getAuthToken(),\n                'TwoStep': `Bearer ` + authUtils.getTwiceToken() // 二次验证的token\n            }\n        },\n        activated () {\n            this.uploadBtn && (this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card'))\n        },\n        mounted () {\n            this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card')\n        },\n        methods: {\n            handlePreview (file) {\n                this.dialogImageUrl = file.url\n                this.dialogVisible = true\n            },\n            handleRemove (file, fileList) {\n                // console.log('handleRemove', file, fileList)\n                this.onRemove && this.onRemove(file, fileList)\n                this.imgList = fileList\n                // this.$refs.container.querySelector('.el-upload__input').value = null\n            },\n            handleSuccess (response, file, fileList) {\n                // console.log( response)\n                // console.log('handleSuccess', response, file, fileList)\n\n                if (response.code == 0) {\n                    this.onSuccess && this.onSuccess( response)\n              \n                    // this.dialogImageUrl = '';\n                    // this.dialogVisible = false;\n                    this.imgList = fileList   \n                    // console.table(this.imgList);\n                  \n                } else {\n                    xmview.showTip('error', response.message)\n                }\n            },\n            clearFiles() {\n                this.imgList = []\n            }\n        },\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// UploadImages.vue?521590f2","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".component-upload-uploadimages{height:auto!important}.component-upload-uploadimages .el-upload--picture-card,.component-upload-uploadimages .el-upload-list__item{width:100px;height:100px}.component-upload-uploadimages .el-upload--picture-card{line-height:100px}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/component/upload/UploadImages.vue\"],\"names\":[],\"mappings\":\"AACA,+BAA+B,qBAAsB,CACpD,AACD,6GAA6G,YAAY,YAAY,CACpI,AACD,wDAAwD,iBAAiB,CACxE\",\"file\":\"UploadImages.vue\",\"sourcesContent\":[\"\\n.component-upload-uploadimages{height:auto !important\\n}\\n.component-upload-uploadimages .el-upload-list__item,.component-upload-uploadimages .el-upload--picture-card{width:100px;height:100px\\n}\\n.component-upload-uploadimages .el-upload--picture-card{line-height:100px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-23fadaab\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 307\n// module chunks = 20 21 22","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-23fadaab\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./UploadImages.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"0e24c647\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-23fadaab\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 362\n// module chunks = 20 21 22","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-23fadaab\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./UploadImages.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./UploadImages.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-23fadaab\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./UploadImages.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/component/upload/UploadImages.vue\n// module id = 365\n// module chunks = 20 21 22","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"container\",\n    staticClass: \"component-upload-uploadimages\"\n  }, [_c('el-upload', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"action\": _vm.url,\n      \"name\": _vm.name,\n      \"list-type\": \"picture-card\",\n      \"multiple\": _vm.multiple,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleRemove,\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.imgList,\n      \"limit\": 2,\n      \"accept\": \"image/jpg,image/jpeg,image/png,image/gif\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-plus\"\n  })]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogVisible),\n      callback: function($$v) {\n        _vm.dialogVisible = $$v\n      },\n      expression: \"dialogVisible\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"width\": \"100%\",\n      \"src\": _vm.dialogImageUrl,\n      \"alt\": \"\"\n    }\n  })])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-23fadaab\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 367\n// module chunks = 20 21 22","// 我是代理\nimport * as api from '../api'\nimport config from '../../utils/config'\nconst urlPre = config.apiHost + '/gov/announce'\n\nclass CompanyService {\n    // 搜索\n    getAnnounceListsData ({\n        name = '',  // 关键词：匹配公告名称\n        // area = '',     // 负责区域：传 省份名称\n        // category = 'agent', // 类型： self 我是工业，agent 我是代理\n        // status ,   // 状态：-1 全部，0 关联中，1 待确认，2 已拒绝，3 已解除，4 已放弃\n        page = 1,\n        pagesize = 10,\n    }) {\n        let finalUrl = `${urlPre}/lists`\n        return api.get(finalUrl, {\n            name,\n            // area,\n            // category,\n            // status,\n            page,\n            pagesize,\n        }, false).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 获取\n    fetchAllCheckData () {\n        let finalUrl = `${urlPre}/contacts`\n        return api.get(finalUrl).then((ret) => {\n            return ret.data\n        })\n    }\n    // 获取详情接口\n    getAnnounceDetail(val) {\n        let finalUrl = `${urlPre}/get/${val}`\n        return api.get(finalUrl).then((ret) => {\n            return ret.data\n        })\n    }\n    getUploadCategoryImgUrl() { \n        return `${config.apiHost}/common/upload/file`\n    }\n    \n    announceSend({ title, content, images, sendtime, range }) {\n        let reqParam = { title, content, images, sendtime, range }\n        let url = urlPre + '/send'\n        return api.post(url, reqParam).then(ret => {\n            if (ret.code == 0) {\n                 xmview.showTip('success',ret.message)\n                return ret.data\n            } else {\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n    // 确认关联\n    confirm (company_id) {\n        let finalUrl = `${urlPre}/${company_id}/confirm`\n        return api.put(finalUrl, {}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 拒绝关联\n    deny (company_id) {\n        let finalUrl = `${urlPre}/${company_id}/deny`\n        return api.put(finalUrl, {}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 解除关联，代理商操作解除，要判断是否有计划在投放中\n    cancel (company_id) {\n        let finalUrl = `${urlPre}/${company_id}/cancel`\n        return api.put(finalUrl, {}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n}\n\nexport default new CompanyService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/announce/announceService.js","<!--栏目管理-->\n<style lang='scss' rel='stylesheet/scss'>\n    @import \"../../utils/mixins/common\";\n    @import \"../../utils/mixins/mixins\";\n\n    #course-manage-coursecategory {\n        @extend %content-container;\n\n        .manage-container {\n            @extend %right-top-btnContainer;\n        }\n        \n        > section {\n            display: inline-block;\n            vertical-align: top;\n        }\n        .left-container {\n            min-width: 300px;\n            border-right: 1px solid #ededed;\n        }\n\n        .right-container {\n            margin-left: 15px;\n            width: 700px;\n            .edit-content {\n                margin: 10px 0 0\n            \n            }\n\n            .btn-selected {\n                background: #20A0FF;\n                color: #fff;\n            }\n        }\n\n\n    }\n</style>\n\n<template>\n    <article id=\"course-manage-coursecategory\">\n\n        <section class=\"right-container\">\n            <el-card class=\"edit-content\">\n                <el-form label-position=\"right\" label-width=\"90px\" :rules=\"rules\" :model=\"fetchParam\" ref=\"form\">\n                    <el-form-item label=\"公告标题\" prop=\"title\">\n                        <el-input v-model=\"fetchParam.title\" ></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"公告内容\" prop=\"content\">\n                        <el-input v-model=\"fetchParam.content\" ></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"公告图片\" prop=\"images\" class=\"images\">\n                        <UploadImg ref=\"uploadImg\" :fetchParam.images=\"fetchParam.images\" :url=\"uploadImgUrl\"\n                                   :onSuccess=\"handleImgUploaded\">\n                        </UploadImg>\n                    </el-form-item>\n                    <el-form-item prop=\"sendtime\" label=\"发送时间\" >\n                        <el-date-picker v-model=\"fetchParam.sendtime\" type=\"date\" />\n                    </el-form-item>\n\n                    <el-form-item label=\"发送范围\" >\n                        <el-checkbox v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n                        <div style=\"margin: 15px 0;\"></div>\n                        <el-checkbox-group v-model=\"checkedMenus\" @change=\"handleCheckedMenusChange\">\n                            <el-checkbox v-for=\"item in allCheckData\" :label=\"item.id\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</el-checkbox>\n                        </el-checkbox-group>\n                    </el-form-item>\n                    \n\n                    <el-form-item>\n                        <el-button type=\"info\" @click=\"submitForm\" >保存\n                            <!--zhankeng-->\n                        </el-button>\n                    </el-form-item>\n                </el-form>\n            </el-card>\n        </section>\n\n        <el-dialog title=\"操作提示\" v-model=\"dialogConfirm.isShow\" size=\"tiny\">\n            <span v-html=\"dialogConfirm.msg\"></span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogConfirm.isShow = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"dialogConfirm.confirmClick\">确 定</el-button>\n            </span>\n        </el-dialog>\n        \n    </article>\n</template>\n\n<script >\n    import announceService from '../../services/announce/announceService.js'\n    import treeUtils from '../../utils/treeUtils'\n    import UploadImg from '../component/upload/UploadImages.vue'\n    import { date2Str } from '../../utils/timeUtils.js'\n\n    export default{\n        data () {\n            return {\n                activeTab: 'add',\n                uploadImgUrl: '',\n                nodeSelected: void 0, // 被选中的node节点\n                nodeParentSelected: void 0, // 被选中node节点的父节点\n                moveToNode: void 0, // 将要移动到最终的栏目\n                treeData: [],\n                dialogConfirm: {\n                    isShow: false,\n                    msg: '',\n                    confirmClick: {}\n                },\n                dialogTree: {\n                    isShow: false,\n                    confirmClick: {}\n                },\n                fetchParam: getFetchParam(),\n                rules: {\n                    title: [\n                        {required: true, message: '请输入公告标题', trigger: 'blur'},\n                    ],\n                    content: [\n                        {required: true, message: '请输入公告内容', trigger: 'blur'},\n                    ],\n                    images: [\n                        // {required: true, message: '请上传栏目logo', trigger: 'blur'}\n                    ]\n                },\n                checkedMenus: [],\n                //checkbox 的相关数据\n                checkAll: false,\n                allCheckData:[],     // 总的数据\n            }\n        },\n        watch: {\n            'activeTab'(val) {\n                if (val === 'add'||val === 'root') {\n                    this.resetForm()\n                }\n            },\n        },\n\n        activated () {\n            this.fetchParam = getFetchParam()\n            console.log(this.fetchParam)\n            this.checkAll=this.checkedMenus= 0\n            xmview.setContentLoading(false)\n            this.uploadImgUrl = announceService.getUploadCategoryImgUrl()\n            console.log(this.uploadImgUrl)\n            this.$refs.uploadImg.clearFiles()\n            this.fetchData()\n        },\n        methods: {\n             //全选反选按钮\n            handleCheckAllChange(event) {\n                var arr = this.allCheckData.map(v=>{\n                    return v.id\n                })\n                this.checkedMenus = event.target.checked ? arr : [];\n            },\n            handleCheckedMenusChange(value) {\n                let checkedCount = value.length;\n                this.checkAll = checkedCount === this.allCheckData.length;\n            },\n\n            //总的数据     \n            fetchData(val) {\n                return announceService.fetchAllCheckData(this.fetchParam).then((ret) => {\n                    // console.log('全部的菜单======')\n                    this.allCheckData = ret\n                    this.loadingData = false\n                    this.checkAll = this.checkedMenus.length === this.allCheckData.length;\n                    xmview.setContentLoading(false)     \n                })\n            },\n            // 图片上传完毕\n            handleImgUploaded (response, file, fileList) {\n                \n                // this.fetchParam.images = response.url\n                // if (this.fetchParam.images.indexOf(response.data.url) == -1) {\n                //     this.fetchParam.images.push(response.data.url)\n                // }\n\n\n                // console.log(response)\n\n                \n                //  this.fetchParam.images = response.map(function(v){\n                //     return v.response.data.url\n                // }).join()\n\n\n                // console.log(this.fetchParam.images)\n            },\n\n\n            // 清空选中项\n            clearSelected () {\n                this.selectable = false\n            },\n            // 提交表单\n            submitForm () {\n                // announceService.createM(this.$route.params.role_id,ids).then((ret) => {\n                //     this.fetchParamImp = ret\n                //     console.log(ret)\n                // })\n\n               this.fetchParam.images = this.$refs.uploadImg.imgList.map(function(v){\n                    return v.response.data.url\n                }).join()\n\n                this.$refs.form.validate((ret) => {\n                    if (!ret) return\n                    this.fetchParam.sendtime = this.fetchParam.sendtime ? date2Str(this.fetchParam.sendtime) : ''\n                    this.fetchParam.range=this.checkedMenus.join(',')\n                    // console.log(this.fetchParam)\n                    announceService.announceSend(this.fetchParam).then((ret) => {\n                        xmview.showTip('success', '操作成功!')\n                        this.$refs['form'].resetFields()\n                        // if (this.activeTab === 'edit') {\n                        //     this.nodeSelected.label = this.fetchParam.title  \n                        //     node.data.data=this.fetchParam\n                        //     // this.nodeSelected.item = this.fetchParam\n                        //     this.$forceUpdate()\n                        // } else {\n                        //     this.fetchParam.id = ret.data.id\n                        //     let addedItem = {\n                        //         title: this.fetchParam.title,\n                        //         value: this.fetchParam.id,\n                        //         item: this.fetchParam\n                        //     }\n\n                            // 如果是添加的根节点\n                            this.$router.push({name: 'announce-lists'})\n                            this.fetchParam =getFetchParam()\n                        // }\n                    })\n                })\n            },\n            // 重置表单\n            resetForm () {\n                this.$refs.form.resetFields()\n            },\n           \n           \n        },\n        components: { UploadImg}\n    }\n\n    function getFetchParam () {\n        return {\n            title: void 0,\n            content: void 0,\n            images: void 0,\n            sendtime: '',\n            range:'',\n\n\n        }\n    }\n\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// announceSend.vue?365cf108","exports = module.exports = require(\"../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#course-manage-coursecategory{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#course-manage-coursecategory:after{content:\\\"\\\";clear:both;display:block}#course-manage-coursecategory .pagin{float:right;margin-top:15px}#course-manage-coursecategory .bottom-manage{margin-top:15px}#course-manage-coursecategory .manage-container{position:absolute;right:0;top:-50px}#course-manage-coursecategory .header-button.manage-container>.el-button i{margin-right:5px}#course-manage-coursecategory .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-manage-coursecategory>section{display:inline-block;vertical-align:top}#course-manage-coursecategory .left-container{min-width:300px;border-right:1px solid #ededed}#course-manage-coursecategory .right-container{margin-left:15px;width:700px}#course-manage-coursecategory .right-container .edit-content{margin:10px 0 0}#course-manage-coursecategory .right-container .btn-selected{background:#20a0ff;color:#fff}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/gov_ui/assets/src/views/announce/announceSend.vue\"],\"names\":[],\"mappings\":\"AACA,8BAA8B,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACtH,AACD,oCAAoC,WAAW,WAAW,aAAa,CACtE,AACD,qCAAqC,YAAY,eAAe,CAC/D,AACD,6CAA6C,eAAe,CAC3D,AACD,gDAAgD,kBAAkB,QAAQ,SAAS,CAClF,AACD,2EAA2E,gBAAgB,CAC1F,AACD,kFAAkF,kBAAkB,QAAQ,CAC3G,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,sCAAsC,qBAAqB,kBAAkB,CAC5E,AACD,8CAA8C,gBAAgB,8BAA8B,CAC3F,AACD,+CAA+C,iBAAiB,WAAW,CAC1E,AACD,6DAA6D,eAAe,CAC3E,AACD,6DAA6D,mBAAmB,UAAU,CACzF\",\"file\":\"announceSend.vue\",\"sourcesContent\":[\"\\n#course-manage-coursecategory{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-manage-coursecategory:after{content:'';clear:both;display:block\\n}\\n#course-manage-coursecategory .pagin{float:right;margin-top:15px\\n}\\n#course-manage-coursecategory .bottom-manage{margin-top:15px\\n}\\n#course-manage-coursecategory .manage-container{position:absolute;right:0;top:-50px\\n}\\n#course-manage-coursecategory .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#course-manage-coursecategory .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-manage-coursecategory>section{display:inline-block;vertical-align:top\\n}\\n#course-manage-coursecategory .left-container{min-width:300px;border-right:1px solid #ededed\\n}\\n#course-manage-coursecategory .right-container{margin-left:15px;width:700px\\n}\\n#course-manage-coursecategory .right-container .edit-content{margin:10px 0 0\\n}\\n#course-manage-coursecategory .right-container .btn-selected{background:#20A0FF;color:#fff\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-90b3bc26\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/announce/announceSend.vue\n// module id = 795\n// module chunks = 22","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-90b3bc26\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./announceSend.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"12b6e34a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-90b3bc26\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/announce/announceSend.vue\n// module id = 837\n// module chunks = 22","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"course-manage-coursecategory\"\n    }\n  }, [_c('section', {\n    staticClass: \"right-container\"\n  }, [_c('el-card', {\n    staticClass: \"edit-content\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-position\": \"right\",\n      \"label-width\": \"90px\",\n      \"rules\": _vm.rules,\n      \"model\": _vm.fetchParam\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"公告标题\",\n      \"prop\": \"title\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.fetchParam.title),\n      callback: function($$v) {\n        _vm.fetchParam.title = $$v\n      },\n      expression: \"fetchParam.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公告内容\",\n      \"prop\": \"content\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.fetchParam.content),\n      callback: function($$v) {\n        _vm.fetchParam.content = $$v\n      },\n      expression: \"fetchParam.content\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"images\",\n    attrs: {\n      \"label\": \"公告图片\",\n      \"prop\": \"images\"\n    }\n  }, [_c('UploadImg', {\n    ref: \"uploadImg\",\n    attrs: {\n      \"fetchParam\": _vm.fetchParam.images,\n      \"url\": _vm.uploadImgUrl,\n      \"onSuccess\": _vm.handleImgUploaded\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"sendtime\",\n      \"label\": \"发送时间\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"date\"\n    },\n    model: {\n      value: (_vm.fetchParam.sendtime),\n      callback: function($$v) {\n        _vm.fetchParam.sendtime = $$v\n      },\n      expression: \"fetchParam.sendtime\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发送范围\"\n    }\n  }, [_c('el-checkbox', {\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"15px 0\"\n    }\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedMenusChange\n    },\n    model: {\n      value: (_vm.checkedMenus),\n      callback: function($$v) {\n        _vm.checkedMenus = $$v\n      },\n      expression: \"checkedMenus\"\n    }\n  }, _vm._l((_vm.allCheckData), function(item) {\n    return _c('el-checkbox', {\n      key: item.id,\n      attrs: {\n        \"label\": item.id,\n        \"value\": item.id\n      }\n    }, [_vm._v(_vm._s(item.name))])\n  }))], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.submitForm\n    }\n  }, [_vm._v(\"保存\\n                        \")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"操作提示\",\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogConfirm.isShow),\n      callback: function($$v) {\n        _vm.dialogConfirm.isShow = $$v\n      },\n      expression: \"dialogConfirm.isShow\"\n    }\n  }, [_c('span', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.dialogConfirm.msg)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogConfirm.isShow = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.dialogConfirm.confirmClick\n    }\n  }, [_vm._v(\"确 定\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-90b3bc26\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/announce/announceSend.vue\n// module id = 903\n// module chunks = 22"],"sourceRoot":""}